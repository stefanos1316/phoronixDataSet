#!/bin/sh

np=1

while [ $np -le 4 ]
do
	mpirun $3 --hostfile mfom4 -np $np ./nero2d $1
	cp benchmark.dat $2"$np".dat
	np=`expr $np + 1`
done

while [ $np -le 8 ]
do
	mpirun $3 --hostfile mfom8 -np $np ./nero2d $1
	cp benchmark.dat $2"$np".dat
	np=`expr $np + 1`
done

while [ $np -le 12 ]
do
	mpirun $3 --hostfile mfom12 -np $np ./nero2d $1
	cp benchmark.dat $2"$np".dat
	np=`expr $np + 1`
done

while [ $np -le 16 ]
do
	mpirun $3 --hostfile mfom16 -np $np ./nero2d $1
	cp benchmark.dat $2"$np".dat
	np=`expr $np + 1`
done

while [ $np -le 20 ]
do
	mpirun $3 --hostfile mfom20 -np $np ./nero2d $1
	cp benchmark.dat $2"$np".dat
	np=`expr $np + 1`
done

while [ $np -le 24 ]
do
	mpirun $3 --hostfile mfom24 -np $np ./nero2d $1
	cp benchmark.dat $2"$np".dat
	np=`expr $np + 1`
done
